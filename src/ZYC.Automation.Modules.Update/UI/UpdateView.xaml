<page:PageBase x:Class="ZYC.Automation.Modules.Update.UI.UpdateView"
               x:ClassModifier="internal"
               xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
               xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
               xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
               xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
               xmlns:page="clr-namespace:ZYC.Automation.Core.Page;assembly=ZYC.Automation.Core"
               xmlns:ui="clr-namespace:ZYC.Automation.Modules.Update.UI"
               xmlns:local="clr-namespace:ZYC.Automation.Modules.Update.Abstractions;assembly=ZYC.Automation.Modules.Update.Abstractions"
               xmlns:localizations="clr-namespace:ZYC.Automation.Core.Localizations;assembly=ZYC.Automation.Core"
               xmlns:faulted="clr-namespace:ZYC.Automation.Modules.Update.UI.Faulted"
               xmlns:core="clr-namespace:ZYC.Automation.Core;assembly=ZYC.Automation.Core"
               mc:Ignorable="d"
               d:DesignHeight="450" d:DesignWidth="800"
               Title="{localizations:L Update}"
               DataContext="{Binding RelativeSource={RelativeSource Self}}">
    <Grid Margin="0 8">
        <ContentControl>
            <ContentControl.Style>
                <Style TargetType="ContentControl">
                    <Style.Triggers>
                        <!--!WARNING There is a problem with VisualTree loading here, so it can only be set <LifetimeScope> manually-->
                        <DataTrigger Binding="{Binding UpdateStatus}">
                            <DataTrigger.Value>
                                <local:UpdateStatus>Checking</local:UpdateStatus>
                            </DataTrigger.Value>
                            <Setter Property="Content">
                                <Setter.Value>
                                    <core:Component Type="ui:CheckingNewProductView"
                                                    LifetimeScope="{Binding LifetimeScope}" />
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding UpdateStatus}">
                            <DataTrigger.Value>
                                <local:UpdateStatus>CheckUpdateFaulted</local:UpdateStatus>
                            </DataTrigger.Value>
                            <Setter Property="Content">
                                <Setter.Value>
                                    <core:Component Type="faulted:CheckUpdateFaultedView"
                                                    LifetimeScope="{Binding LifetimeScope}" />
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding UpdateStatus}">
                            <DataTrigger.Value>
                                <local:UpdateStatus>UpdateAvailable</local:UpdateStatus>
                            </DataTrigger.Value>
                            <Setter Property="Content">
                                <Setter.Value>
                                    <core:Component Type="ui:UpdateAvailableView"
                                                    LifetimeScope="{Binding LifetimeScope}" />
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding UpdateStatus}">
                            <DataTrigger.Value>
                                <local:UpdateStatus>Downloading</local:UpdateStatus>
                            </DataTrigger.Value>
                            <Setter Property="Content">
                                <Setter.Value>
                                    <core:Component Type="ui:DownloadingView"
                                                    LifetimeScope="{Binding LifetimeScope}" />
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding UpdateStatus}">
                            <DataTrigger.Value>
                                <local:UpdateStatus>DownloadFaulted</local:UpdateStatus>
                            </DataTrigger.Value>
                            <Setter Property="Content">
                                <Setter.Value>
                                    <core:Component Type="faulted:DownloadFaultedView"
                                                    LifetimeScope="{Binding LifetimeScope}" />
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding UpdateStatus}">
                            <DataTrigger.Value>
                                <local:UpdateStatus>UpToDate</local:UpdateStatus>
                            </DataTrigger.Value>
                            <Setter Property="Content">
                                <Setter.Value>
                                    <core:Component Type="ui:UpToDateView"
                                                    LifetimeScope="{Binding LifetimeScope}" />
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding UpdateStatus}">
                            <DataTrigger.Value>
                                <local:UpdateStatus>ApplyPending</local:UpdateStatus>
                            </DataTrigger.Value>
                            <Setter Property="Content">
                                <Setter.Value>
                                    <core:Component Type="ui:ApplyPendingView"
                                                    LifetimeScope="{Binding LifetimeScope}" />
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding UpdateStatus}">
                            <DataTrigger.Value>
                                <local:UpdateStatus>ApplyFaulted</local:UpdateStatus>
                            </DataTrigger.Value>
                            <Setter Property="Content">
                                <Setter.Value>
                                    <core:Component Type="faulted:ApplyFaultedView"
                                                    LifetimeScope="{Binding LifetimeScope}" />
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentControl.Style>
        </ContentControl>
    </Grid>
</page:PageBase>