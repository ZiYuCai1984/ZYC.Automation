<UserControl x:Class="ZYC.Automation.Modules.MarkdownViewer.UI.MarkdownViewerView"
             x:ClassModifier="internal"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:dragDrop="clr-namespace:ZYC.Automation.Core.DragDrop;assembly=ZYC.Automation.Core"
             xmlns:core="clr-namespace:ZYC.Automation.Core;assembly=ZYC.Automation.Core"
             xmlns:mdXaml="clr-namespace:ZYC.MdXaml;assembly=ZYC.MdXaml"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800"
             DataContext="{Binding RelativeSource={RelativeSource Self}}">
    <UserControl.Resources>
        <core:NullBasedTemplateSelector x:Key="NullBasedTemplateSelector">
            <core:NullBasedTemplateSelector.NullTemplate>
                <DataTemplate>
                    <dragDrop:DragDropPickerView AllowMultiple="False"
                                                 PickerKind="File"
                                                 PathsPicked="OnDragDropPickerViewPathsPicked" />
                </DataTemplate>
            </core:NullBasedTemplateSelector.NullTemplate>
            <core:NullBasedTemplateSelector.NonNullTemplate>
                <DataTemplate>
                    <mdXaml:MarkdownScrollViewer Loaded="OnMarkdownScrollViewerLoaded" 
                                                 Padding="8 8 8 0"/>
                </DataTemplate>
            </core:NullBasedTemplateSelector.NonNullTemplate>
        </core:NullBasedTemplateSelector>
    </UserControl.Resources>
    <ContentControl ContentTemplateSelector="{StaticResource NullBasedTemplateSelector}"
                    Content="{Binding MarkdownSource}" />
</UserControl>